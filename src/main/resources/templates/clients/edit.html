<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edycja klienta</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
<div  class="container" style="margin-top: 62px;">
    <nav class="navbar fixed-top navbar-expand-lg bg-dark border-bottom border-body" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Repertorium</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                    <li class="nav-item">
                        <a class="nav-link" href="/orders">Zlecenia</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/clients">Klienci</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/invoices">Faktury</a>
                    </li>
                    <li class="nav-item">
                        <form th:action="@{/logout}" th:method="post">
                            <button class="nav-link">Wyloguj</button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <h4>Edycja klienta</h4>
    <form
            th:action="@{/clients/{id}/update(id=${client.id})}"
            th:object="${client}"
            th:method="put">
        <label class="form-label" for="clientType">Wybierz rodzaj klienta</label>
        <select class="form-select" id="clientType" name="clientType" th:field="*{clientType}">
            <option th:each="clientType: ${clientTypes}" th:value="${clientType.getId()}" th:text="${clientType.getName()}"
                    th:selected="${client.clientType!= null && clientType.getId() == client.getClientType().getId()}" ></option>
        </select>

        <label class="form-label" for="NIP">Numer NIP:</label>
        <input class="form-control" type="number" id="NIP" name="NIP" th:field="*{NIP}"/>

        <label class="form-label" for="REGON">Wpisz numer Regon:</label>
        <input class="form-control" type="number" id="REGON" name="REGON" th:field="*{REGON}"/>

        <label class="form-label" for="companyName"> Nazwa firmy:</label>
        <input class="form-control" type="text" id="companyName" name="companyName" th:field="*{companyName}"/>

        <label class="form-label" for="firstName"> Imię:</label>
        <input class="form-control" type="text" id="firstName" name="firstName" th:field="*{firstName}"/>

        <label class="form-label" for="surname"> Nazwisko:</label>
        <input class="form-control" type="text" id="surname" name="surname" th:field="*{surname}"/>

        <label class="form-label" for="street"> Ulica:</label>
        <input class="form-control" type="text" id="street" name="street" th:field="*{street}"/>
        <span th:if="${#fields.hasErrors('street')}" th:errors="*{street}">Pole nie może być puste</span>

        <label class="form-label" for="houseNumber">Numer domu:</label>
        <input class="form-control" type="number" id="houseNumber" name="houseNumber" th:field="*{houseNumber}"/>
        <span th:if="${#fields.hasErrors('houseNumber')}" th:errors="*{houseNumber}">Pole nie może być puste</span>

        <label class="form-label" for="apartmentNumber">Numer mieszkania:</label>
        <input class="form-control" type="number" id="apartmentNumber" name="apartmentNumber" th:field="*{apartmentNumber}"/>

        <label class="form-label" for="postalCode">Kod pocztowy:</label>
        <input class="form-control" type="number" id="postalCode" name="postalCode" th:field="*{postalCode}"/>
        <span th:if="${#fields.hasErrors('postalCode')}" th:errors="*{postalCode}">Pole nie może być puste</span>

        <label class="form-label" for="city"> Miasto:</label>
        <input class="form-control" type="text" id="city" name="city" th:field="*{city}"/>
        <span th:if="${#fields.hasErrors('city')}" th:errors="*{city}">Pole nie może być puste</span>

        <button type="submit" class="btn btn-primary">Zapisz</button>
        <a href="/clients" class="btn btn-light">Anuluj</a>
    </form>
</div>
</body>
</html>